---           
layout: post
title: "Converting Java collection to Scala"
categories: spark
---
Many times when you use scala, we want to convert from Java collection to scala collections. Scala collection being richer than java counter parts they are always great to use. Even sometime we want to go reverse way also.

Earlier scala endrosed the implicit conversion between using JavaConversions but it became difficult to reason about the code because of the behind seen conversion. From scala 2.8 there is JavaConverters which makes it explicit whenever there is conversion between two.
We use "asScala" and "asJava" for conversions.

Code example :

First Let's import
{% highlight scala %}
 import scala.collection.JavaConverters._
{% endhighlight %}

Converting Java list to scala list
{% highlight scala %}
 val javaList = new util.ArrayList[Double]()
    javaList.add(10.0)
    javaList.add(20.0)
    javaList.add(40.0)

 // use asScala to convert
 val scalaList = javaList.asScala
 val sum = scalaList.sum
 val squareList = scalaList.map(value => value*value)
 println("sum is "+ sum)
 println("square list is" + squareList)

{% endhighlight %}

Converting Java map to scala map
{% highlight scala %}
val javaHashMap = new util.HashMap[String,Double]()
    javaHashMap.put("jack",1000)
    javaHashMap.put("bob",2000)

val scalaMap = javaHashMap.asScala
println(scalaMap.getOrElse("dummy",0))
println(scalaMap.map(value =>(value._1,value._2*value._2)))

{% endhighlight %}

Converting from scala to Java

{% highlight scala %}
val javaListFromScala = scalaList.asJava
println(javaListFromScala.getClass.getName)

{% endhighlight %}





