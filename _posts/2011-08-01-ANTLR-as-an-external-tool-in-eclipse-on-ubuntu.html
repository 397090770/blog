---           
layout: post
title: "ANTLR as an external tool in eclipse on ubuntu"
date: 2011-08-01 17:57:28 UTC
updated: 2011-08-01 17:57:28 UTC
comments: false
categories: antlr eclipse ubuntu
---

<div dir="ltr" style="text-align: left;" trbidi="on"><span class="Apple-style-span" style="font-family: inherit;">This tutorial tells how to setup the ANTLR in your eclipse.</span><br /><span class="Apple-style-span" style="font-family: inherit;"><b>STEP 1:</b></span><br /><span class="Apple-style-span" style="font-family: inherit;">Download the jar file antlrworks-1.4.2.jar from <a href="http://www.antlr.org/download.">http://www.antlr.org/download.</a></span><br /><span class="Apple-style-span" style="font-family: inherit;">Further details about ANTLRWorks: The ANTLR GUI Development Environment, follow the link : <a href="http://www.antlr.org/works/index.html">http://www.antlr.org/works/index.html</a></span><br /><span class="Apple-style-span" style="font-family: inherit;"><b>STEP 2:</b></span><br /><span class="Apple-style-span" style="font-family: inherit;">Create a java project in eclipse as follows:</span><br /><span class="Apple-style-span" style="font-family: inherit;">File-&gt;New-&gt;Project</span><br /><span class="Apple-style-span" style="font-family: inherit;">Select Java and Java project.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Click on Next.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Name the project as "TestANTLR"</span><br /><span class="Apple-style-span" style="font-family: inherit;">Press Finish.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Add the antlrworks-1.4.2.jar to the project classpath.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Right click on "TestANTLR" project .</span><br /><span class="Apple-style-span" style="font-family: inherit;">Select Properties-&gt;Libraries.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Click on "Add External jar"</span><br /><span class="Apple-style-span" style="font-family: inherit;">Select the complete path of the "antlrworks-1.4.2.jar" and press Ok.</span><br /><span class="Apple-style-span" style="font-family: inherit;"><b>STEP 3: make it as an external tool</b></span><br /><span class="Apple-style-span" style="font-family: inherit;">Goto Run-&gt;External Tools-&gt;Configure</span><br /><span class="Apple-style-span" style="font-family: inherit;">Click on New.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Name: ANTLR Compiler</span><br /><span class="Apple-style-span" style="font-family: inherit;">Tool Location:    /usr/lib/jvm/java-6-sun-1.6.0.26/bin/java</span><br /><span class="Apple-style-span" style="font-family: inherit;">// this must be the complete path to your java</span><br /><span class="Apple-style-span" style="font-family: inherit;">Tool Arguments:    -classpath complete_path_to_antlrworks-1.4.2.jar org.antlr.Tool ${resource_name}</span><br /><span class="Apple-style-span" style="font-family: inherit;">Working Directory: ${container_loc}</span><br /><span class="Apple-style-span" style="font-family: inherit;">Here, org.antlr.Tool is the main class which would take the ${resource_name} for processing.</span><br /><span class="Apple-style-span" style="font-family: inherit;">${resource_name} and ${container_loc} can be selected with "Browse Variables" option too.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Going ahead :</span><br /><span class="Apple-style-span" style="font-family: inherit;">*Creating a grammar file</span><br /><span class="Apple-style-span" style="font-family: inherit;">Create a grammar file with .g extension. Say, Example.g</span><br /><span class="Apple-style-span" style="font-family: inherit;"><b>//sample code</b></span><br /><span class="Apple-style-span" style="font-family: inherit;">grammar Example;</span><br /><span class="Apple-style-span" style="font-family: inherit;">start :  'hello' ID ';' {System.out.println("hiii... "+$ID.text);} ;</span><br /><span class="Apple-style-span" style="font-family: inherit;">ID: 'a'..'z' + ;</span><br /><span class="Apple-style-span" style="font-family: inherit;">WS: (' ' |'\n' |'\r' )+</span><br /><span class="Apple-style-span" style="font-family: inherit;">{$channel=HIDDEN;}</span><br /><span class="Apple-style-span" style="font-family: inherit;"><b>*Running the above code:</b></span><br /><span class="Apple-style-span" style="font-family: inherit;">Run-&gt;External Tools-&gt;ANTLR Compiler</span><br /><span class="Apple-style-span" style="font-family: inherit;">Press F5 or right click on the project and "refresh"</span><br /><span class="Apple-style-span" style="font-family: inherit;">all you can see is a lexer and parser files generated with the tokens.</span><br /><span class="Apple-style-span" style="font-family: inherit;">In our example,</span><br /><span class="Apple-style-span" style="font-family: inherit;">ExampleLexer.java , ExampleParser.java and Example.tokens</span><br /><span class="Apple-style-span" style="font-family: inherit;">Create Main.java program in the same project with the following code:</span><br /><span class="Apple-style-span" style="font-family: inherit;">import org.antlr.runtime.*;</span><br /><span class="Apple-style-span" style="font-family: inherit;">public class Main {</span><br /><span class="Apple-style-span" style="font-family: inherit;">public static void main(String[] args) throws Exception {</span><br /><span class="Apple-style-span" style="font-family: inherit;">// create a CharStream that reads from standard input</span><br /><span class="Apple-style-span" style="font-family: inherit;">ANTLRInputStream input = new ANTLRInputStream(System.in);</span><br /><span class="Apple-style-span" style="font-family: inherit;">// create a lexer that feeds off of input CharStream</span><br /><span class="Apple-style-span" style="font-family: inherit;">ExampleLexer lexer = new ExampleLexer(input);</span><br /><span class="Apple-style-span" style="font-family: inherit;">// create a buffer of tokens pulled from the lexer</span><br /><span class="Apple-style-span" style="font-family: inherit;">CommonTokenStream tokens = new CommonTokenStream(lexer);</span><br /><span class="Apple-style-span" style="font-family: inherit;">// create a parser that feeds off the tokens buffer</span><br /><span class="Apple-style-span" style="font-family: inherit;">ExampleParser parser = new ExampleParser(tokens);</span><br /><span class="Apple-style-span" style="font-family: inherit;">// begin parsing at rule start</span><br /><span class="Apple-style-span" style="font-family: inherit;">parser.start();</span><br /><span class="Apple-style-span" style="font-family: inherit;">}</span><br /><span class="Apple-style-span" style="font-family: inherit;">}</span><br /><span class="Apple-style-span" style="font-family: inherit;">Set the arguments in the Run configurations and click on Apply and Run.</span><br /><span class="Apple-style-span" style="font-family: inherit;">Now you have the output at console.</span><br /><span class="Apple-style-span" style="font-family: inherit;">:)</span></div><img src="http://feeds.feedburner.com/~r/blogspot/jODW/~4/W7oHtKWgRHk" height="1" width="1"/>